/*rateYo V2.1.0, A simple and flexible star rating plugin
prashanth pamidi (https://github.com/prrashi)*/
!function(a){"use strict";function b(a,b,c){return a===b?a=b:a===c&&(a=c),a}function c(a,b,c){var d=a>=b&&c>=a;if(!d)throw Error("Invalid Rating, expected value between "+b+" and "+c);return a}function d(b,c){var d;return a.each(c,function(){return b===this.node?(d=this,!1):void 0}),d}function e(b,c){return a.each(c,function(a){if(b===this.node){var d=c.slice(0,a),e=c.slice(a+1,c.length);return c=d.concat(e),!1}}),c}function f(a){return"undefined"!=typeof a}function g(a,b,c){var d=(b-a)*(c/100);return d=Math.round(a+d).toString(16),1===d.length&&(d="0"+d),d}function h(a,b,c){if(!a||!b)return null;c=f(c)?c:0,a=p(a),b=p(b);var d=g(a.r,b.r,c),e=g(a.b,b.b,c),h=g(a.g,b.g,c);return"#"+d+h+e}function i(d,g){function j(a){f(a)||(a=g.rating),X=a;var b=a/N,c=b*P;b>1&&(c+=(Math.ceil(b)-1)*R),q(g.ratedFill),V.css("width",c+"%")}function k(){S=O*g.numStars,S+=Q*(g.numStars-1),P=O/S*100,R=Q/S*100,d.width(S),j()}function m(a){var b=g.starWidth=a;return O=parseFloat(g.starWidth.replace("px","")),U.find("svg").attr({width:g.starWidth,height:b}),V.find("svg").attr({width:g.starWidth,height:b}),k(),d}function o(a){return g.spacing=a,Q=parseFloat(g.spacing.replace("px","")),U.find("svg:not(:first-child)").css({"margin-left":a}),V.find("svg:not(:first-child)").css({"margin-left":a}),k(),d}function p(a){return g.normalFill=a,U.find("svg").attr({fill:g.normalFill}),d}function q(a){if(g.multiColor){var b=X-g.minValue;b=b/g.maxValue*100;var c=g.multiColor,e=c.startColor||n.startColor,f=c.endColor||n.endColor;a=h(e,f,b)}else Z=a;return g.ratedFill=a,V.find("svg").attr({fill:g.ratedFill}),d}function r(a){g.multiColor=a,q(a?a:Z)}function s(b){g.numStars=b,N=g.maxValue/g.numStars,U.empty(),V.empty();for(var c=0;c<g.numStars;c++)U.append(a(l)),V.append(a(l));return m(g.starWidth),p(g.normalFill),o(g.spacing),j(),d}function t(a){return g.maxValue=a,N=g.maxValue/g.numStars,g.rating>a&&I(a),j(),d}function u(a){return g.precision=a,I(g.rating),d}function v(a){return g.halfStar=a,d}function w(a){return g.fullStar=a,d}function x(a){var b=a%N,c=N/2,d=g.halfStar,e=g.fullStar;return e||d?(e||d&&b>c?a+=N-b:(a-=b,b>0&&(a+=c)),a):a}function y(a){var b=U.offset(),c=b.left,d=c+U.width(),e=g.maxValue,f=a.pageX,h=0;if(c>f)h=W;else if(f>d)h=e;else{var i=(f-c)/(d-c);if(Q>0){i*=100;for(var j=i;j>0;)j>P?(h+=N,j-=P+R):(h+=j/P*N,j=0)}else h=i*g.maxValue;h=x(h)}return h}function z(a){var c=y(a).toFixed(g.precision),e=g.maxValue;c=b(parseFloat(c),W,e),j(c),d.trigger("rateyo.change",{rating:c})}function A(){j(),d.trigger("rateyo.change",{rating:g.rating})}function B(a){var b=y(a).toFixed(g.precision);b=parseFloat(b),M.rating(b)}function C(a,b){g.onInit&&"function"==typeof g.onInit&&g.onInit.apply(this,[b.rating,M])}function D(a,b){g.onChange&&"function"==typeof g.onChange&&g.onChange.apply(this,[b.rating,M])}function E(a,b){g.onSet&&"function"==typeof g.onSet&&g.onSet.apply(this,[b.rating,M])}function F(){d.on("mousemove",z).on("mouseenter",z).on("mouseleave",A).on("click",B).on("rateyo.init",C).on("rateyo.change",D).on("rateyo.set",E)}function G(){d.off("mousemove",z).off("mouseenter",z).off("mouseleave",A).off("click",B).off("rateyo.init",C).off("rateyo.change",D).off("rateyo.set",E)}function H(a){return g.readOnly=a,d.attr("readonly",!0),G(),a||(d.removeAttr("readonly"),F()),d}function I(a){var e=a,f=g.maxValue;return"string"==typeof e&&("%"===e[e.length-1]&&(e=e.substr(0,e.length-1),f=100,t(f)),e=parseFloat(e)),c(e,W,f),e=parseFloat(e.toFixed(g.precision)),b(parseFloat(e),W,f),g.rating=e,j(),Y&&d.trigger("rateyo.set",{rating:e}),d}function J(a){return g.onInit=a,d}function K(a){return g.onSet=a,d}function L(a){return g.onChange=a,d}this.$node=d,this.node=d.get(0);var M=this;d.addClass("jq-ry-container");var N,O,P,Q,R,S,T=a("<div/>").addClass("jq-ry-group-wrapper").appendTo(d),U=a("<div/>").addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(T),V=a("<div/>").addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(T),W=0,X=g.rating,Y=!1,Z=g.ratedFill;this.rating=function(a){return f(a)?(I(a),d):g.rating},this.destroy=function(){return g.readOnly||G(),i.prototype.collection=e(d.get(0),this.collection),d.removeClass("jq-ry-container").children().remove(),d},this.method=function(a){if(!a)throw Error("Method name not specified!");if(!f(this[a]))throw Error("Method "+a+" doesn't exist!");var b=Array.prototype.slice.apply(arguments,[]),c=b.slice(1),d=this[a];return d.apply(this,c)},this.option=function(a,b){if(!f(a))return g;var c;switch(a){case"starWidth":c=m;break;case"numStars":c=s;break;case"normalFill":c=p;break;case"ratedFill":c=q;break;case"multiColor":c=r;break;case"maxValue":c=t;break;case"precision":c=u;break;case"rating":c=I;break;case"halfStar":c=v;break;case"fullStar":c=w;break;case"readOnly":c=H;break;case"spacing":c=o;break;case"onInit":c=J;break;case"onSet":c=K;break;case"onChange":c=L;break;default:throw Error("No such option as "+a)}return f(b)?c(b):g[a]},s(g.numStars),H(g.readOnly),this.collection.push(this),this.rating(g.rating,!0),Y=!0,d.trigger("rateyo.init",{rating:g.rating})}function j(b){var c=i.prototype.collection,e=a(this);if(0===e.length)return e;var f=Array.prototype.slice.apply(arguments,[]);if(0===f.length)b=f[0]={};else{if(1!==f.length||"object"!=typeof f[0]){if(f.length>=1&&"string"==typeof f[0]){var g=f[0],h=f.slice(1),j=[];return a.each(e,function(a,b){var e=d(b,c);if(!e)throw Error("Trying to set options before even initialization");var f=e[g];if(!f)throw Error("Method "+g+" does not exist!");var i=f.apply(e,h);j.push(i)}),j=1===j.length?j[0]:a(j)}throw Error("Invalid Arguments")}b=f[0]}return b=a.extend({},m,b),a.each(e,function(){var e=d(this,c);return e?void 0:new i(a(this),a.extend({},b))})}function k(){return j.apply(this,Array.prototype.slice.apply(arguments,[]))}var l='<?xml version="1.0" encoding="utf-8"?><svg version="1.1"xmlns="http://www.w3.org/2000/svg"viewBox="0 12.705 512 486.59"x="0px" y="0px"xml:space="preserve"><polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "/></svg>',m={starWidth:"32px",normalFill:"gray",ratedFill:"#f39c12",numStars:5,maxValue:5,precision:1,rating:0,fullStar:!1,halfStar:!1,readOnly:!1,spacing:"0px",multiColor:null,onInit:null,onChange:null,onSet:null},n={startColor:"#c0392b",endColor:"#f1c40f"},o=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,p=function(a){if(!o.test(a))return null;var b=o.exec(a),c=parseInt(b[1],16),d=parseInt(b[2],16),e=parseInt(b[3],16);return{r:c,g:d,b:e}};i.prototype.collection=[],window.RateYo=i,a.fn.rateYo=k}(jQuery);
//# sourceMappingURL=jquery.rateyo.min.js.map